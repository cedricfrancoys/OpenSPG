{% extends '::base.html.twig' %}

{% block title %}OpenPGS - Open Source Participatory Garanty System{% endblock %}

{% block body %}

	{{ parent() }}

	{% block pageTitle %}{% endblock %}

    <div id="mainCarousel">
	    <div id="myCarousel" class="carousel slide" data-ride="carousel">
	    	<div class="carousel-inner">
	        	<div class="item active">
	          		<script	src="http://maps.googleapis.com/maps/api/js?key=AIzaSyDY0kkJiTPVd2U7aTOAwhc9ySH6oHxOIYM&amp;sensor=false">
					</script>
					<script>
						var myCenter=new google.maps.LatLng(36.892011,-3.245017);
						{% for node in nodes %}
							var pointer{{node.id}} = new google.maps.LatLng({{node.Location.latitude}},{{node.Location.longitude}});
						{% endfor %}
						var marker;
						function initialize()
						{
							var mapProp = {
							  center:myCenter,
							  zoom:10,
							  mapTypeId:google.maps.MapTypeId.ROADMAP
							  };
							var map=new google.maps.Map(document.getElementById("googleMap"),mapProp);
							{% for node in nodes %}
								marker{{node.id}}=new google.maps.Marker({
								  position:pointer{{node.id}}
								});
								marker{{node.id}}.setMap(map);
								var infowindow{{node.id}} = new google.maps.InfoWindow({
								  content:"{{node.name}}"
								});
								google.maps.event.addListener(marker{{node.id}}, 'click', function() {
								  infowindow{{node.id}}.open(map,marker{{node.id}});
								});
								infowindow{{node.id}}.open(map,marker{{node.id}});
							{% endfor %}
						}
						google.maps.event.addDomListener(window, 'load', initialize);
					</script>
					<div id="googleMap" style="height:450px;"></div>
				  	<div class="container">
						<div class="carousel-caption">
						</div>
				  	</div>
				</div>
			</div>
		</div><!-- /.carousel -->
	</div>

	<div class="mainTitle">
	<div class="container">
	<h1>OpenPGS</h1>
	<p>
	{% trans %}ExplainSite{% endtrans %}
	</p>
	</div>
	</div>

    <!-- Marketing messaging and featurettes
    ================================================== -->
    <!-- Wrap the rest of the page in another container to center all the content. -->

    <div class="container marketing">
      <!-- Three columns of text below the carousel -->
      <div class="row">
        {% for product in products %}{# Limit to 3 items #}
        	<div class="col-lg-4">
	          <img class="img-circle" src="themes/assets/images/nepali-momo.png" alt="{{ product.name }}" />
	          <h2>{{ product.name }}</h2>
	          <p>Donec sed odio dui. Etiam porta sem malesuada magna mollis euismod. Nullam id dolor id nibh ultricies</p>
	          <p><a class="btn btn-default" href="#" role="button">&pound; 2.2 Add to cart &raquo;</a></p>
	        </div><!-- /.col-lg-4 -->
        {% endfor %}
      </div><!-- /.row -->
	</div>
	
	<div class="highlightSection">
		<div class="container">
			<div class="row">
				<h2 style="text-align:center;font-weight:bold;border-bottom:1px solid #ccc;margin-bottom:30px;">{% trans from "member"%}Members{% endtrans %}</h2>
				<div class="col-lg-6">
					<div class="media">
						<a href="{% if is_granted(expression('"ROLE_PRODUCER" in roles')) %}{{ path('producer_member_index') }}{% else %}{{ path('producer_member_register') }}{% endif %}"><h3 class="media-heading text-primary-theme">{% trans %}Producer members{% endtrans %}</h3></a>
						<p>{% trans %}Producer members desc{% endtrans %}</p>
					</div>
				</div>
				<div class="col-lg-6">
					<div class="media">
						<a href="#"><h3 class="media-heading text-danger-theme">{% trans %}Consumer members{% endtrans %}</h3></a>
						<p>{% trans %}Consumer members desc{% endtrans %}</p>
					</div>
				</div>
			</div>
		</div>
	</div>

{% endblock %}

{% block stylesheets %}
	{{ parent() }}
{% endblock %}	
{% block javascripts %}
	{{ parent() }}
{% endblock %}