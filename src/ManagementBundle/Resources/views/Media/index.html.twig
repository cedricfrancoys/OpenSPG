{% extends '::base.html.twig' %}

{% block title %}{{"Media"|trans({},"management")}}{% endblock %}

{% block pageTitleText %}{{"Media"|trans({},"management")}}{% endblock %}

{% block body %}

	{{ parent() }}

    <div class="highlightSection">
		<div class="container">
			<div class="media-header">
				<div class="media-path">Path: <span id="media-path">/</span></div>
				<div class="media-action">
					<button class="btn-default btn btn-add" id="upload-file" type="button" data-toggle="modal" data-target="#upload_modal">Upload file</button>
					<a href="#create-dir">Create directory</a>
				</div>
			</div>
			{% for item in media %}
				<div class="media-item">
					<img src="{{ vich_uploader_asset(item.media, 'image') }}" alt="{{ item.title }}" />
					<span class="media-name">{{ item.title }}</span>
				</div>
			{% else %}
				{{ "No media available"|trans({},'media') }}
			{% endfor %}
		</div>
	</div>

	<div class="modal fade" id="upload_modal" tabindex="1" role="dialog">
		<div class="modal-dialog">
		    <div class="modal-content">
		      	<div class="modal-header">
		        	<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
		        	<h4 class="modal-title">{{ "Upload file"|trans({},'media') }}</h4>
		      	</div>
		      	<div class="modal-body">
		      		{{ form_start(uploadForm) }}
						{{ form_errors(uploadForm) }}
					{{ form_end(uploadForm) }}
		      	</div>
		      	<div class="modal-footer">
		        	<button type="button" class="btn btn-default" data-dismiss="modal">{{"Close"|trans({})}}</button>
		        	<button type="button" class="btn btn-primary saveBtn" id="uploadBtn">{{"Upload file"|trans({},'media')}}</button>
		      	</div>
		    </div><!-- /.modal-content -->
		</div><!-- /.modal-dialog -->
	</div><!-- /.modal -->

{% endblock %}

{% block stylesheets %}
	{{ parent() }}
	{% stylesheets 'bundles/media/css/media.css' 
				filter='cssrewrite' %}
        <link rel="stylesheet" href="{{ asset_url }}" />
    {% endstylesheets %}
{% endblock %}	
{% block javascripts %}
	{{ parent() }}
	<script src="{{ url('bazinga_jstranslation_js', { 'domain': 'media' }) }}"></script>
		{% javascripts
        'bundles/media/js/media.js' %}
        <script src="{{ asset_url }}"></script>
    {% endjavascripts %}
{% endblock %}